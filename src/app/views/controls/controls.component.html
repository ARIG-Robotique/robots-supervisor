<div class="row">

  <div class="col-6 controls-list">
    <div class="card mb-3" *ngFor="let servoGroup of servos$ | async">
      <h5 class="card-header">
        <fa-icon icon="cogs"></fa-icon>
        Servos: {{servoGroup.name}}
      </h5>

      <div class="list-group list-group-flush">
        <app-servo-control *ngFor="let servo of servoGroup.servos"
                           class="list-group-item p-2"
                           [robot]="robot" [servo]="servo">
        </app-servo-control>
      </div>
    </div>
  </div>

  <div class="col-3 controls-list">
    <div class="card mb-3">
      <h5 class="card-header">
        <fa-icon icon="arrows-alt"></fa-icon>
        Mouvements
      </h5>

      <div class="list-group list-group-flush">
        <app-mouvement-input class="list-group-item p-0" *ngFor="let mouvement of Mouvements"
                             [robot]="robot"
                             [name]="mouvement.name"
                             [icon]="mouvement.icon"
                             [type]="mouvement.type"
                             [fields]="mouvement.fields"></app-mouvement-input>
      </div>
    </div>
  </div>

  <div class="col-3 controls-list">
    <div class="card mb-3">
      <h5 class="card-header">
        <fa-icon icon="heartbeat"></fa-icon>
        Capteurs
      </h5>

      <div class="btn-group">
        <button type="button" class="btn btn-success"
                *ngIf="!(capteurs$ | async)?.numerique.Tirette"
                (click)="setTirette(true)">
          Mettre la tirette
        </button>
        <button type="button" class="btn btn-success"
                *ngIf="(capteurs$ | async)?.numerique.Tirette"
                (click)="setTirette(false)">
          Enlever la tirette
        </button>
        <button type="button" class="btn btn-success"
                *ngIf="!(capteurs$ | async)?.numerique.AU"
                (click)="setAu(true)">
          Enclencher l'AU
        </button>
        <button type="button" class="btn btn-success"
                *ngIf="(capteurs$ | async)?.numerique.AU"
                (click)="setAu(false)">
          Claquer l'AU
        </button>
        <button type="button" class="btn btn-jaune"
                (click)="setTeam('JAUNE')">
          Jaune
        </button>
        <button type="button" class="btn btn-violet"
                (click)="setTeam('VIOLET')">
          Violet
        </button>
      </div>

      <pre class="m-2"><code>{{capteurs$ | async | json }}</code></pre>
    </div>

    <div class="card mb-3">
      <h5 class="card-header">
        <fa-icon icon="arrows-alt"></fa-icon>
        Actionneurs
      </h5>

      <ul class="list-group list-group-flush">
        <li class="list-group-item p-2">
          Pompe droite :
          <div class="btn-group">
            <button type="button" class="btn btn-success" (click)="setPompe(ESide.DROITE, EActionneurState.ON)">
              ON
            </button>
            <button type="button" class="btn btn-danger" (click)="setPompe(ESide.DROITE, EActionneurState.OFF)">
              OFF
            </button>
          </div>
        </li>
        <li class="list-group-item p-2">
          Pompe gauche :
          <div class="btn-group">
            <button type="button" class="btn btn-success" (click)="setPompe(ESide.GAUCHE, EActionneurState.ON)">
              ON
            </button>
            <button type="button" class="btn btn-danger" (click)="setPompe(ESide.GAUCHE, EActionneurState.OFF)">
              OFF
            </button>
          </div>
        </li>
        <li class="list-group-item p-2">
          EV droite :
          <div class="btn-group">
            <button type="button" class="btn btn-success" (click)="setEv(ESide.DROITE, EActionneurState.ON)">
              AIR
            </button>
            <button type="button" class="btn btn-danger" (click)="setEv(ESide.DROITE, EActionneurState.OFF)">
              VIDE
            </button>
          </div>
        </li>
        <li class="list-group-item p-2">
          EV gauche :
          <div class="btn-group">
            <button type="button" class="btn btn-success" (click)="setEv(ESide.GAUCHE, EActionneurState.ON)">
              AIR
            </button>
            <button type="button" class="btn btn-danger" (click)="setEv(ESide.GAUCHE, EActionneurState.OFF)">
              VIDE
            </button>
          </div>
        </li>
      </ul>
    </div>
  </div>

</div>
